# コタのワクワクyamlルーム

## 🌟 概要
机の上のアイテムをクリックしてYAMLコンテンツを表示し、ユーザーが新しいアイテムを投稿できるWebアプリケーションです。
YAMLベースの創作活動を支援するインタラクティブなプラットフォームのプロトタイプです。

## ✨ 機能

### 📖 既存アイテム表示
- **4つの既存アイテム**: キャラクター、ジオラマ、クリスタル、レシピ
- **YAMLファイル表示**: アイテムクリックでYAMLコンテンツをカード表示
- **コピー機能**: YAMLをクリップボードにコピー可能

### 📤 ユーザー投稿機能
- **画像アップロード**: JPEG, PNG, GIF, WebP対応（最大5MB）
- **YAML入力**: カスタムYAMLコンテンツの記述
- **リアルタイム表示**: 投稿後すぐに机に追加表示
- **永続化**: LocalStorageでブラウザ保存

### 🏗️ 技術仕様
- **フロントエンド**: HTML5 + CSS3 + Vanilla JavaScript
- **バックエンド**: Python CGI（ファイルアップロード処理）
- **データ管理**: JSON設定ファイル + LocalStorage
- **画像管理**: サーバーファイルアップロード

## 🚀 セットアップ

### 1. リポジトリクローン
```bash
git clone https://github.com/nyattoh/prototype.git
cd prototype
```

### 2. サーバー環境準備
- **Webサーバー**: Apache/Nginx等（CGI対応必須）
- **Python**: 3.6以降
- **ディレクトリ権限**: cgi-bin/実行権限、uploads/書き込み権限

### 3. ファイル配置
```
public_html/
├── index.html
├── style.css
├── script.js
├── items.json           # アイテム設定
├── .htaccess           # CGI設定
├── cgi-bin/
│   └── upload.py       # アップロード処理（権限755）
├── assets/images/uploads/  # 画像保存先
└── yaml/               # YAMLファイル
```

### 4. 権限設定
```bash
chmod 755 cgi-bin/upload.py
chmod 777 assets/images/uploads/
```

## 📋 使用方法

### 基本操作
1. **アイテム表示**: 机の上のアイテムをクリック
2. **YAML表示**: カードでYAMLコンテンツを表示
3. **コピー**: 📋ボタンでYAMLをコピー
4. **投稿**: ➕ボタンで新しいアイテムを追加

### 投稿手順
1. **➕ボタンクリック**: 投稿フォームを開く
2. **タイトル入力**: 作品名を記述
3. **画像選択**: アイテム画像をアップロード
4. **YAML記述**: 作品設定をYAML形式で入力
5. **投稿**: 机に新しいアイテムが追加

## 🛠️ 開発情報

### ファイル構成
- **`items.json`**: 既存アイテムのメタデータ
- **`script.js`**: フロントエンドロジック
- **`upload.py`**: CGIアップロード処理
- **`yaml/*.yaml`**: アイテムYAMLファイル

### データフロー
```
ユーザー投稿 → CGI処理 → ファイル保存 → LocalStorage → 動的表示
既存アイテム → JSON読み込み → 動的表示 → YAMLファイル読み込み
```

### 今後の拡張予定
- [ ] サーバーデータベース（永続化）
- [ ] ユーザー認証システム
- [ ] カテゴリ・タグ機能
- [ ] AI remixing機能
- [ ] 部屋間移動システム

## 🐛 トラブルシューティング

### よくある問題
- **404エラー**: CGI設定とファイル権限を確認
- **アップロード失敗**: uploads/ディレクトリの書き込み権限確認
- **画像表示されない**: 相対パスとファイル存在確認

### デバッグ
```javascript
// ブラウザ開発者ツールのコンソールで確認
console.log('localStorage:', localStorage.getItem('userYamlItems'));
```

## 📄 ライセンス
MITライセンス - 詳細は[LICENSE](LICENSE)ファイルを参照

## 🤝 コントリビュート
プルリクエストやIssueはいつでも歓迎です！ 